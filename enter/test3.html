<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JSZip测试test3</title>
	<style type="text/css">
		/*.box{ position:absolute; padding: 0 50px; margin: 0 50px; top:0; left:0; background-color: rgba(0,0,0,0.5); }*/
		.canvas{border:1px solid red; width:500px;height: 1000px; }
		/*#canvas1{border:1px solid red; }*/
		img{ border:1px solid red;}
		#btn{height: 100px; font-size:50px;line-height: 100px;}
		.box1{position:absolute; top:0;  left:0; z-index: -2;}
		body{background-color: black;}


	</style>
</head>
<body>
	<h1>JSZip测试</h1>
	<a id="link">下载</a>
	<button id="btn" >运行动画</button>
	<!-- <canvas width="200" height="200" style="width:400px;height:400px; "></canvas> -->

{"ver":1,"did":"1480403985791.32372","uid":"131344609","clt":"web","pf":"yzb","typ":"sh","tpc":"yzb.reg","sn":"www.yizhibo.com","url":"/","ref":"/","ct":1480590948,"data":{"rgt":"qq"},"cc":97253865}
	<div class="box1">
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>

	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>

	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2><h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
	<h2>22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</h2>
		
	</div>
	

	<div class="box">
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		<canvas class="canvas" >您的浏览器不支持</canvas>
		
	</div>
	<!-- <script type="text/javascript" src="http://static.yizhibo.com/js/libs/gift/jszip.min.js"></script>
	<script type="text/javascript" src="http://static.yizhibo.com/js/libs/gift/gift.min.js"></script>
	gift.support  // true（支持）false(不支持)

	gift.animate(canvas , option , callback) 
	 1、canvas: canvas元素;  
	 2、option:{
				animationtime:3071,
				fileurl:"http://alcdn.img.xiaoka.tv/20160823/8f4/827/0/8f48278ff84034b3008f5ca5ce6d7823.zip",
				giftid:1,
				name:"love",
			   };
	3、callback: 回调函数，失败callback(error),成功callback();
	 -->
	
	<script type="text/javascript" src="js/jszip.js"></script>
	 <!-- <script type="text/javascript" src="js/jszip-utils.js"></script> -->
	 <script type="text/javascript" src="../src/gift.js"></script>


	<script type="text/javascript">
			// var canvas1= document.getElementById("canvas1");
		// var option = {
		// 		animationtime:6000,
		// 		animationtype:2,
		// 		category:5,
		// 		childtype:1,
		// 		count:0,
		// 		cover:"http://alcdn.img.xiaoka.tv/20160530/abf/825/0/abf825dbbfbd204a673f30b488d3bbf1.png",
		// 		createtime:1458011180,
		// 		custom:0,
		// 		diamond:10000,
		// 		experience:1000,
		// 		fileurl:"http://alcdn.img.xiaoka.tv/20160809/345/3d0/0/3453d02fcb25493d97fb201307d02334.zip",
		// 		giftid:20,
		// 		gifts:"",
		// 		goldcoin:10000,
		// 		isbursts:0,
		// 		isfold:0,
		// 		listorder:7,
		// 		name:"兰博基尼",
		// 		number:"",
		// 		pcurl:"http://alcdn.img.xiaoka.tv/20160825/99d/f6f/0/99df6fcdd9961f1f3f1292d26a95cc11.gif",
		// 		popularity:1000,
		// 		source:0,
		// 		status:1,
		// 		sysbroadcast:"@%s：我送了1个 %s",
		// 		type:0,
		// 		updatetime:1480324492,
		// 		webpurl:"http://alcdn.img.xiaoka.tv/20160727/d1f/8fa/0/d1f8faf6b66d940a92f8648ff25e78e0.zip"
		// 	}
		//1love:  http://alcdn.img.xiaoka.tv/20160823/8f4/827/0/8f48278ff84034b3008f5ca5ce6d7823.zip
		//2兰博基尼：  http://alcdn.img.xiaoka.tv/20160530/a76/e1c/0/a76e1c17bdb28e3f4b3c4abfee348001.zip
		//3豪华游艇：  http://alcdn.img.xiaoka.tv/20160707/00d/09d/0/00d09db1a1bda19b6fa8fa0fd7d385ed.zip
		//4气球：  http://alcdn.img.xiaoka.tv/20160809/345/3d0/0/3453d02fcb25493d97fb201307d02334.zip
		//5水晶鞋：  http://alcdn.img.xiaoka.tv/20160721/c5c/030/0/c5c030208689fb095d2f3e69457fd412.zip
		//6钻戒：   http://alcdn.img.xiaoka.tv/20160721/b71/896/0/b71896bd370a6f6bee5ecd789d2f4618.zip
		//7法拉利： http://alcdn.img.xiaoka.tv/20160721/475/e73/0/475e730a6af690be3cfc5e06048aec1f.zip
		//8生日蛋糕：   http://alcdn.img.xiaoka.tv/20161128/817/d13/0/817d13957f55bba06ed23b71755aa988.zip
		//9思念摩天轮： http://alcdn.img.xiaoka.tv/20160914/c83/c0d/0/c83c0dea76bed5716c9235d09d05b05f.zip
		//10金牌主播：  http://alcdn.img.xiaoka.tv/20160731/f8e/ae5/0/f8eae5dc42416762c5c4f4737411c8df.zip
		//11太空漫游： http://alcdn.img.xiaoka.tv/20160725/f2b/d12/0/f2bd12b111b4774d2a6f445145252e92.zip
		//12一起摇摆：  http://alcdn.img.xiaoka.tv/20161115/1e5/cb3/0/1e5cb3aae627a5ac62916ce923a7fcc2.zip
		
		var canvas = document.getElementsByClassName("canvas");

		var option1 = {
				type: 1,
				avatar: "http://alcdn.img.xiaoka.tv/20161124/8c4/37a/58875995/8c437a5d1875bd2e8709795a717705ae.jpg@1e_1c_0o_0l_160h_160w_100q_1pr.jpg"
			};
		var option2 = {
				type: 2,
				avatar: "http://alcdn.img.xiaoka.tv/20161207/9b2/537/94000048/9b2537650d728cede48029d2549f37bf.jpg@1e_1c_0o_0l_363h_363w_100q_1pr.jpg"
			};
		var option3 = {
				animationtime:8000,
				fileurl:"http://alcdn.img.xiaoka.tv/20160707/00d/09d/0/00d09db1a1bda19b6fa8fa0fd7d385ed.zip",
				giftid:3,
				name:"豪华游艇",
			};

		var option4 = {
				animationtime:6468,
				fileurl:"http://alcdn.img.xiaoka.tv/20160809/345/3d0/0/3453d02fcb25493d97fb201307d02334.zip",
				giftid:4,
				name:"气球",
			}
		var option5 = {
				animationtime:6100,
				fileurl:"http://alcdn.img.xiaoka.tv/20160721/c5c/030/0/c5c030208689fb095d2f3e69457fd412.zip",
				giftid:5,
				name:"水晶鞋",
			}
		var option6 = {
				animationtime:6000,
				fileurl:"http://alcdn.img.xiaoka.tv/20160721/b71/896/0/b71896bd370a6f6bee5ecd789d2f4618.zip",
				giftid:6,
				name:"钻戒",
			}
		var option7 = {
				animationtime:6000,
				fileurl:"http://alcdn.img.xiaoka.tv/20160721/475/e73/0/475e730a6af690be3cfc5e06048aec1f.zip",
				giftid:7,
				name:"法拉利",
			}
		var option8 = {
				animationtime:4980,
				fileurl:"http://alcdn.img.xiaoka.tv/20161128/817/d13/0/817d13957f55bba06ed23b71755aa988.zip",
				giftid:8,
				name:"生日蛋糕",
			}
		var option9 = {
				animationtime:6250,
				fileurl:"http://alcdn.img.xiaoka.tv/20160914/c83/c0d/0/c83c0dea76bed5716c9235d09d05b05f.zip",
				giftid:9,
				name:"思念摩天轮",
			}
		var option10 = {
				animationtime:4500,
				fileurl:"http://alcdn.img.xiaoka.tv/20160731/f8e/ae5/0/f8eae5dc42416762c5c4f4737411c8df.zip",
				giftid:10,
				name:"金牌主播",
			}
		var option11 = {
				animationtime:7058,
				fileurl:" http://alcdn.img.xiaoka.tv/20160725/f2b/d12/0/f2bd12b111b4774d2a6f445145252e92.zip",
				giftid:11,
				name:"太空漫游",
			}

		var option12 = {
				animationtime:4752,
				fileurl:"http://alcdn.img.xiaoka.tv/20161115/1e5/cb3/0/1e5cb3aae627a5ac62916ce923a7fcc2.zip",
				giftid:12,
				name:"一起摇摆",
			}
		var option13 = {
			animationtime:6142,
			fileurl:"http://alcdn.img.xiaoka.tv/20161214/2cb/296/0/2cb29605f015e22104f6feb99a9e4766.zip",
			giftid:1422,
			name:"飞天招财猪",
		}

		
		function end(err){
			if(err){
				console.log("错误");
				 throw err;
				
			}else{
				console.log("动画完成");
			}

		}
		
		canvasgift.enter(canvas[0],option1,function(e){console.log("明星入场完成")});
		// canvasgift.enter(canvas[1],option2,function(e){console.log("神豪完成")});
		canvasgift.animate(canvas[2], option3, end);
		canvasgift.animate(canvas[3], option4, end);
		canvasgift.animate(canvas[4], option5, end);
		canvasgift.animate(canvas[5], option6, end);
		canvasgift.animate(canvas[6], option7, end);
		canvasgift.animate(canvas[7], option8, end);
		canvasgift.animate(canvas[8], option9, end);
		canvasgift.animate(canvas[9], option10, end);
		canvasgift.animate(canvas[10], option11, end);
		canvasgift.animate(canvas[11], option12, end);
		canvasgift.animate(canvas[12], option13, end);


		var btn = document.getElementById("btn");
		btn.onclick = play;


		function play(){
		console.log("开始");
		canvasgift.enter(canvas[0],option1,function(e){console.log("明星入场完成")});
		// canvasgift.enter(canvas[1],option2,function(e){console.log("神豪完成")});
		canvasgift.animate(canvas[2], option13, function(){console.log("3，游艇")});
		canvasgift.animate(canvas[3], option13, function(){console.log("4，气球")});
		canvasgift.animate(canvas[4], option13, function(){console.log("5，水晶鞋")});
		canvasgift.animate(canvas[5], option4, function(){console.log("6，钻戒")});
		canvasgift.animate(canvas[6], option13, function(){console.log("7，法拉利")});
		canvasgift.animate(canvas[7], option13, function(){console.log("8，生日蛋糕")});
		canvasgift.animate(canvas[8], option13, function(){console.log("9，思念摩天轮")});
		canvasgift.animate(canvas[9], option13, function(){console.log("10，金牌主播")});
		canvasgift.animate(canvas[10], option13, function(){console.log("11，太空漫游")});
		canvasgift.animate(canvas[11], option13, function(){console.log("12,一起摇摆")});
		canvasgift.animate(canvas[12], option13, function(){console.log("13,飞天招财猪")});

		}

	
		

		
	</script>
</body>
</html>	